---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
# image will be published to ghcr.io/<user>/<name>
name: cosmic-laptop

# description will be included in the image's metadata
description: Customized Fedora COSMIC Atomic

# the base image to build on top of (FROM) and the version tag to use
base-image: ghcr.io/ublue-os/base-main
image-version: 43-20251110

# module configuration, executed in order
modules:
- from-file: common/files.yml
- from-file: common/dnf.yml

- type: dnf
  install:
    packages:
    - https://github.com/block/goose/releases/download/v1.12.1/Goose-1.12.1-1.x86_64.rpm

  group-install:
    with-optional: true
    packages:
    - cosmic-desktop
    - cosmic-desktop-apps

- from-file: common/remove.yml
- from-file: common/brew.yml
- from-file: common/flatpaks.yml

- type: default-flatpaks
  configurations:
  - scope: system
    notify: true
    repo:
      title: Flathub (system)
    install:
    - dev.edfloreshz.CosmicTweaks
    - org.gnome.Loupe

- from-file: common/fonts.yml
- from-file: common/script.yml
- from-file: common/systemd.yml
- from-file: common/signing.yml
